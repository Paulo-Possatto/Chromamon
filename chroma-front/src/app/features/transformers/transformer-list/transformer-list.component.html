<div class="d-flex justify-content-between align-items-center mb-3">
  <h2>Transformers</h2>
  <button class="btn btn-primary" (click)="addTransformer()">
    <i class="fas fa-plus"></i> Add Transformer
  </button>
</div>

@if (loading) {
  <div class="text-center">
    <div class="spinner-border" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
  </div>
} @else if (transformers.length === 0) {
  <div class="alert alert-info">
    No transformers found.
  </div>
} @else {
  <div class="table-responsive">
    <table class="table table-striped table-hover">
      <thead>
        <tr>
          <th>ID</th>
          <th>Tag</th>
          <th>Serial Number</th>
          <th>Manufacturer</th>
          <th>Model</th>
          <th>Nominal Power (kVA)</th>
          <th>Location</th>
          <th>Status</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        @for (transformer of transformers; track transformer.id) {
          <tr>
            <td>{{ transformer.id }}</td>
            <td>{{ transformer.tag }}</td>
            <td>{{ transformer.serialNumber }}</td>
            <td>{{ transformer.manufacturer }}</td>
            <td>{{ transformer.model }}</td>
            <td>{{ transformer.nominalPowerKva }}</td>
            <td>{{ transformer.location }}</td>
            <td>
              <span class="badge" [ngClass]="getStatusBadgeClass(transformer.status)">
                {{ transformer.status || 'ACTIVE' }}
              </span>
            </td>
            <td>
              <div class="btn-group" role="group">
                <button 
                  class="btn btn-sm btn-outline-primary" 
                  (click)="editTransformer(transformer.id)"
                  title="Edit">
                  <i class="fas fa-edit"></i>
                </button>
                <button 
                  class="btn btn-sm btn-outline-danger" 
                  (click)="deleteTransformer(transformer.id)"
                  title="Delete">
                  <i class="fas fa-trash"></i>
                </button>
                <button 
                  class="btn btn-sm btn-outline-info" 
                  title="View Details">
                  <i class="fas fa-eye"></i>
                </button>
              </div>
            </td>
          </tr>
        }
      </tbody>
    </table>
  </div>

  <!-- Pagination -->
  <div class="row mt-3">
    <div class="col-12">
      <nav aria-label="Transformers pagination">
        <ul class="pagination justify-content-center">
          <li class="page-item disabled">
            <a class="page-link" href="#" tabindex="-1" aria-disabled="true">Previous</a>
          </li>
          <li class="page-item active">
            <a class="page-link" href="#">1</a>
          </li>
          <li class="page-item">
            <a class="page-link" href="#">2</a>
          </li>
          <li class="page-item">
            <a class="page-link" href="#">3</a>
          </li>
          <li class="page-item">
            <a class="page-link" href="#">Next</a>
          </li>
        </ul>
      </nav>
    </div>
  </div>
}